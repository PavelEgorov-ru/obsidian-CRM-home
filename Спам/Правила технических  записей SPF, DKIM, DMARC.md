**1. SPF (Sender Policy Framework):** 
• **Что это:** SPF-запись указывает, какие серверы имеют право отправлять письма от имени вашего домена.   
• **Как настроить:** Добавьте TXT-запись в DNS-зону вашего домена. Запись должна выглядеть примерно так:
`v=spf1 ip4:xxx.xxx.xxx.xxx ip4:yyy.yyy.yyy.yyy include:spf.example.com ~all`

• **Разъяснение:**  
 * `v=spf1`: Версия SPF.  
 * `ip4:xxx.xxx.xxx.xxx`: IP-адреса ваших почтовых серверов. Замените `xxx.xxx.xxx.xxx` на ваши реальные IP-адреса. Можно указать несколько IP-адресов.  
 * `include:spf.example.com`: Если вы используете сторонние сервисы для рассылки (например, Mailchimp, SendGrid), включите их SPF-запись. Замените `spf.example.com` на домен вашего сервиса рассылки.  
 * `~all`: "Softfail". Письма с неавторизованных серверов могут быть помечены как спам, но не обязательно будут заблокированы. Другие варианты: `-all` (hardfail, блокировка) и `+all` (разрешить всем). Рекомендуется начинать с `~all` и постепенно переходить к `-all`.  

• **Проверка:** После добавления записи, проверьте ее с помощью онлайн-инструментов, например: [https://mxtoolbox.com/spf.aspx](https://mxtoolbox.com/spf.aspx "https://mxtoolbox.com/spf.aspx")  
  
**2. DKIM (DomainKeys Identified Mail):**   
• **Что это:** DKIM добавляет цифровую подпись к вашим письмам, подтверждая их подлинность и то, что они не были изменены в процессе доставки.  
  
• **Как настроить:**    
 1. **Сгенерировать пару ключей (публичный и приватный).** Многие почтовые сервисы предоставляют инструменты для генерации ключей.    
 2. **Добавить публичный ключ в DNS-зону вашего домена** в виде TXT-записи. Название записи обычно выглядит так: `selector._domainkey.yourdomain.com`, где `selector` - это произвольное имя (например, `mail`). Значение записи будет содержать ваш публичный ключ.    
 3. **Настроить ваш почтовый сервер** на подписывание исходящих писем с помощью приватного ключа. Инструкции зависят от вашего почтового сервера.  
  
• **Проверка:** После настройки, отправьте тестовое письмо и проверьте его заголовки на наличие DKIM-подписи. Также можно использовать онлайн-инструменты для проверки DKIM.  
  
**3. DMARC (Domain-based Message Authentication, Reporting & Conformance):**    
• **Что это:** DMARC объединяет SPF и DKIM и позволяет указать почтовым серверам, что делать с письмами, которые не прошли проверку SPF и/или DKIM.    
• **Как настроить:** Добавьте TXT-запись в DNS-зону вашего домена. Запись должна выглядеть примерно так:  
`v=DMARC1; p=none; rua=mailto:dmarc_reports@yourdomain.com`

  
• **Разъяснение:**  
 * `v=DMARC1`: Версия DMARC.  
 * `p=none`: Политика "мониторинг". Почтовые серверы не будут предпринимать никаких действий с письмами, которые не прошли проверку, но будут отправлять вам отчеты. Другие варианты: `p=quarantine` (пометить как спам) и `p=reject` (заблокировать).  
 * `rua=mailto:dmarc_reports@yourdomain.com`: Адрес электронной почты, на который будут отправляться отчеты о DMARC.  
  
• **Проверка:** После добавления записи, проверьте ее с помощью онлайн-инструментов, например: [https://mxtoolbox.com/dmarc.aspx](https://mxtoolbox.com/dmarc.aspx "https://mxtoolbox.com/dmarc.aspx")  
  
**Полезные статьи:**  
  
• [DMARC](https://ru.wikipedia.org/wiki/DMARC "https://ru.wikipedia.org/wiki/DMARC")  
  
• [SPF](https://ru.wikipedia.org/wiki/Sender_Policy_Framework "https://ru.wikipedia.org/wiki/Sender_Policy_Framework")  
  
• [DKIM](https://ru.wikipedia.org/wiki/DomainKeys_Identified_Mail "https://ru.wikipedia.org/wiki/DomainKeys_Identified_Mail")  
  
• [Mail Tester](https://www.mail-tester.com/ "https://www.mail-tester.com/"): Сервис для проверки доставляемости писем.  
  
**Важно:** Замените примеры записей на ваши реальные данные. Настройка SPF, DKIM и DMARC может занять некоторое время, так как изменения DNS-записей могут распространяться до 48 часов. Начните с политики `p=none` для DMARC, чтобы отслеживать результаты, и только потом переходите к более строгим политикам.

[[SPF, DKIM, DMARC дополнительная информация]] 